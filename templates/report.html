{% extends "base.html" %}

{% block title %}Report Suspicious Content - TruthLens{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-8 mx-auto">
        <h1 class="text-center mb-4">
            <i class="fas fa-flag text-warning me-2"></i>
            Report Suspicious Content
        </h1>
        <p class="text-center text-muted mb-5">
            Help us combat misinformation by reporting suspicious claims, articles, or social media posts.
        </p>
        
        <!-- Report Form-->
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0"><i class="fas fa-file-alt me-2"></i>Submit a Report</h5>
            </div>
            <div class="card-body">
                <form method="POST" action="{{ url_for('report') }}">
                    <div class="mb-3">
                        <label for="content_text" class="form-label">
                            <i class="fas fa-comment me-1"></i>Suspicious Content *
                        </label>
                        <textarea class="form-control" id="content_text" name="content_text" rows="4" 
                                placeholder="Paste the suspicious text, claim, or content you want to report..."
                                required></textarea>
                        <div class="form-text">
                            Please include the full text of the suspicious content for accurate analysis.
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="content_url" class="form-label">
                            <i class="fas fa-link me-1"></i>Source URL (Optional)
                        </label>
                        <input type="url" class="form-control" id="content_url" name="content_url" 
                               placeholder="https://example.com/article-or-post">
                        <div class="form-text">
                            If available, include the URL where you found this content.
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="category" class="form-label">
                            <i class="fas fa-folder me-1"></i>Category
                        </label>
                        <select class="form-select" id="category" name="category">
                            <option value="general">General</option>
                            <option value="health">Health & Medical</option>
                            <option value="politics">Politics & Government</option>
                            <option value="finance">Finance & Economy</option>
                            <option value="environment">Environment & Climate</option>
                            <option value="technology">Technology & Science</option>
                            <option value="social">Social Issues</option>
                            <option value="other">Other</option>
                        </select>
                        <div class="form-text">
                            Select the category that best describes the content.
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="reporter_email" class="form-label">
                            <i class="fas fa-envelope me-1"></i>Your Email (Optional)
                        </label>
                        <input type="email" class="form-control" id="reporter_email" name="reporter_email" 
                               placeholder="your@email.com">
                        <div class="form-text">
                            Provide your email if you want updates on this report. We respect your privacy.
                        </div>
                    </div>
                    
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        <strong>Privacy Notice:</strong> Your report will be reviewed by our team. 
                        Personal information is kept confidential and used only for verification purposes.
                    </div>
                    
                    <div class="d-grid">
                        <button type="submit" class="btn btn-warning btn-lg">
                            <i class="fas fa-paper-plane me-2"></i>Submit Report
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Reporting Guidelines -->
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0"><i class="fas fa-lightbulb me-2"></i>Reporting Guidelines</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6 class="text-success"><i class="fas fa-check me-2"></i>What to Report</h6>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-angle-right me-2"></i>False or misleading claims</li>
                            <li><i class="fas fa-angle-right me-2"></i>Unverified medical advice</li>
                            <li><i class="fas fa-angle-right me-2"></i>Manipulated statistics</li>
                            <li><i class="fas fa-angle-right me-2"></i>Conspiracy theories</li>
                            <li><i class="fas fa-angle-right me-2"></i>Fake news articles</li>
                            <li><i class="fas fa-angle-right me-2"></i>Doctored images or videos</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6 class="text-danger"><i class="fas fa-times me-2"></i>What Not to Report</h6>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-angle-right me-2"></i>Personal opinions</li>
                            <li><i class="fas fa-angle-right me-2"></i>Satirical content</li>
                            <li><i class="fas fa-angle-right me-2"></i>Clearly marked fiction</li>
                            <li><i class="fas fa-angle-right me-2"></i>Political disagreements</li>
                            <li><i class="fas fa-angle-right me-2"></i>Personal disputes</li>
                            <li><i class="fas fa-angle-right me-2"></i>Commercial complaints</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- How It Works -->
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0"><i class="fas fa-cogs me-2"></i>How Our Review Process Works</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3 text-center mb-3">
                        <i class="fas fa-upload fa-2x text-primary mb-2"></i>
                        <h6>1. Submit</h6>
                        <small class="text-muted">You submit a report with suspicious content</small>
                    </div>
                    <div class="col-md-3 text-center mb-3">
                        <i class="fas fa-robot fa-2x text-info mb-2"></i>
                        <h6>2. AI Analysis</h6>
                        <small class="text-muted">Our AI performs initial credibility assessment</small>
                    </div>
                    <div class="col-md-3 text-center mb-3">
                        <i class="fas fa-user-check fa-2x text-success mb-2"></i>
                        <h6>3. Human Review</h6>
                        <small class="text-muted">Expert reviewers validate the findings</small>
                    </div>
                    <div class="col-md-3 text-center mb-3">
                        <i class="fas fa-database fa-2x text-warning mb-2"></i>
                        <h6>4. Database Update</h6>
                        <small class="text-muted">Results are added to our knowledge base</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Impact Stats -->
        <div class="card mt-4 border-success">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0"><i class="fas fa-chart-bar me-2"></i>Community Impact</h5>
            </div>
            <div class="card-body text-center">
                <div class="row">
                    <div class="col-md-4">
                        <h3 class="text-success">1,247</h3>
                        <small class="text-muted">Reports Submitted</small>
                    </div>
                    <div class="col-md-4">
                        <h3 class="text-warning">892</h3>
                        <small class="text-muted">Claims Verified</small>
                    </div>
                    <div class="col-md-4">
                        <h3 class="text-danger">355</h3>
                        <small class="text-muted">False Claims Identified</small>
                    </div>
                </div>
                <p class="mt-3 mb-0">
                    <small class="text-muted">Thanks to community reports, we've identified and flagged hundreds of misleading claims.</small>
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Auto-resize textarea
document.getElementById('content_text').addEventListener('input', function() {
    this.style.height = 'auto';
    this.style.height = (this.scrollHeight) + 'px';
});

// Form validation
document.querySelector('form').addEventListener('submit', function(e) {
    const contentText = document.getElementById('content_text').value.trim();
    
    if (contentText.length < 10) {
        e.preventDefault();
        alert('Please provide more details about the suspicious content (at least 10 characters).');
        return;
    }
    
    if (contentText.length > 5000) {
        e.preventDefault();
        alert('Content is too long. Please limit to 5000 characters.');
        return;
    }
});
</script>
{% endblock %}
